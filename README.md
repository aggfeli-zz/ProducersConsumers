# ProducersConsumers
Project 1 - Operating Systems 2016
Αγγελική Φελιμέγκα - 1115201300192

To Project έχει υλοποιηθεί σε c++.
Aποτελείται από τα εξής αρχεία:main.cpp Semaphores.cpp απο τo αρχείo επικεφαλίδας: Semaphores.h και περιλαμβάνει makefile

Στο αρχείο main.cpp: Μπορεί να δοθεί ως όρισμα argv[1] το πλήθος των επιθυμητών P processes, διαφορετικά υπάρχει και default τιμή.
Στην συνέχεια εμφανίζονται στην οθόνη ερωτήσεις σχετικά με το πλήθος των μηνύματων για ανταλλαγή μεταξύ P kai C καθώς και για το όνομα του αρχείου από το οποίο θα γίνει η τυχαία ανάγνωση γραμμών. Η main είναι υπεύθυνη για την δημιουργία, διαχείρηση και καταστροφη διαμοιραζόμενης μνήμης, σημαφόρων και διεργασιών.
Τα P processes αφού διαβάσουν μια τυχαία γραμμή απο το αρχείο φροντίζουν μεσω της συναρτησης producer να αποθηκευσουν το μήνυμα στο struct in_ds έτσι ώστε η C process στην συνέχει να αντλήσει το μήνυμα μέσω της συνάρτησης consumer να κάνει τις κατάλληλες μετατροπές και να ξαναστείλει το νέο μήνυμα στην P process μέσω του struct out_ds. Στην "ανταλλαγή" αυτή περιλαμβάνονται και τα pid των P processes έτσι ώστε αφού επιστρέψει το μήνυμα μετά την μετατροπή του απο το C να γίνει σύγκριση και να εξετασθεί αν επέστρεψε το σωστό μήνυμα ή όχι με αποτέλεσμα την κατάλληλη ενημερωση της μεταβλητής pid_match.

Στο αρχείο Semaphores.cpp: δημιουργούνται οι σημαφόροι, αρχικοποιούνται και γίνονται οι αναγκαίες αναθέσεις τιμών μέσω κατάλληλων συναρτήσεων.

Στο αρχείο Semaphores.h: γίνονται οι απαραίτητες δηλώσεις για την λειτουργία των σημαφόρων.

Makefile: εντολές μετταγλώτισης -> $make all και στην συνέχεια $ ./out

all: main.o Semaphore.o  
	g++ -g main.o Semaphore.o -o out

main.o: main.cpp Semaphore.h
	g++ -std=c++0x -c -g main.cpp

Semaphore.o: Semaphore.cpp Semaphore.h
	g++ -c -g Semaphore.cpp
